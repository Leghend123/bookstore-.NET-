{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Latf\\\\innorik\\\\ClientApp\\\\src\\\\components\\\\Books.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport DashboardLayout from \"./DashboardLayout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Books = () => {\n  _s();\n\n  const [books, setBooks] = useState([]);\n  const [editBook, setEditBook] = useState(null);\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\"); // Load books from API\n\n  useEffect(() => {\n    const fetchBooks = async () => {\n      try {\n        const response = await axios.get(\"/api/books\");\n        setBooks(response.data);\n      } catch (error) {\n        console.error(\"Error fetching books:\", error);\n      }\n    };\n\n    fetchBooks();\n  }, []); // Delete book\n\n  const deleteBook = async id => {\n    try {\n      await axios.delete(`/api/books/${id}`);\n      setBooks(books.filter(book => book.id !== id));\n    } catch (error) {\n      console.error(\"Error deleting book:\", error);\n    }\n  }; // Open edit modal\n\n\n  const openEditModal = book => {\n    setEditBook(book);\n    setTitle(book.title);\n    setDescription(book.description);\n  }; // Close edit modal\n\n\n  const closeEditModal = () => {\n    setEditBook(null);\n    setTitle(\"\");\n    setDescription(\"\");\n  }; // Update book\n\n\n  const handleEditSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const updatedBook = { ...editBook,\n        title,\n        description\n      };\n      await axios.put(`/api/books/${editBook.id}`, updatedBook);\n      setBooks(books.map(book => book.id === editBook.id ? updatedBook : book));\n      closeEditModal();\n    } catch (error) {\n      console.error(\"Error updating book:\", error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(DashboardLayout, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Books, \"D6zLZu1oiRw7R0g+xAWWvllzmFI=\");\n\n_c = Books;\nexport default Books;\n\nvar _c;\n\n$RefreshReg$(_c, \"Books\");","map":{"version":3,"names":["React","useState","useEffect","axios","DashboardLayout","Books","books","setBooks","editBook","setEditBook","title","setTitle","description","setDescription","fetchBooks","response","get","data","error","console","deleteBook","id","delete","filter","book","openEditModal","closeEditModal","handleEditSubmit","e","preventDefault","updatedBook","put","map"],"sources":["C:/Users/Latf/innorik/ClientApp/src/components/Books.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport DashboardLayout from \"./DashboardLayout\";\n\nconst Books = () => {\n  const [books, setBooks] = useState([]);\n  const [editBook, setEditBook] = useState(null);\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  // Load books from API\n  useEffect(() => {\n    const fetchBooks = async () => {\n      try {\n        const response = await axios.get(\"/api/books\");\n        setBooks(response.data);\n      } catch (error) {\n        console.error(\"Error fetching books:\", error);\n      }\n    };\n\n    fetchBooks();\n  }, []);\n\n  // Delete book\n  const deleteBook = async (id) => {\n    try {\n      await axios.delete(`/api/books/${id}`);\n      setBooks(books.filter((book) => book.id !== id));\n    } catch (error) {\n      console.error(\"Error deleting book:\", error);\n    }\n  };\n\n  // Open edit modal\n  const openEditModal = (book) => {\n    setEditBook(book);\n    setTitle(book.title);\n    setDescription(book.description);\n  };\n\n  // Close edit modal\n  const closeEditModal = () => {\n    setEditBook(null);\n    setTitle(\"\");\n    setDescription(\"\");\n  };\n\n  // Update book\n  const handleEditSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const updatedBook = { ...editBook, title, description };\n      await axios.put(`/api/books/${editBook.id}`, updatedBook);\n      setBooks(\n        books.map((book) => (book.id === editBook.id ? updatedBook : book))\n      );\n      closeEditModal();\n    } catch (error) {\n      console.error(\"Error updating book:\", error);\n    }\n  };\n\n  return <DashboardLayout></DashboardLayout>;\n};\n\nexport default Books;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;;AAEA,MAAMC,KAAK,GAAG,MAAM;EAAA;;EAClB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,IAAD,CAAxC;EACA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,EAAD,CAA9C,CAJkB,CAMlB;;EACAC,SAAS,CAAC,MAAM;IACd,MAAMY,UAAU,GAAG,YAAY;MAC7B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAU,YAAV,CAAvB;QACAT,QAAQ,CAACQ,QAAQ,CAACE,IAAV,CAAR;MACD,CAHD,CAGE,OAAOC,KAAP,EAAc;QACdC,OAAO,CAACD,KAAR,CAAc,uBAAd,EAAuCA,KAAvC;MACD;IACF,CAPD;;IASAJ,UAAU;EACX,CAXQ,EAWN,EAXM,CAAT,CAPkB,CAoBlB;;EACA,MAAMM,UAAU,GAAG,MAAOC,EAAP,IAAc;IAC/B,IAAI;MACF,MAAMlB,KAAK,CAACmB,MAAN,CAAc,cAAaD,EAAG,EAA9B,CAAN;MACAd,QAAQ,CAACD,KAAK,CAACiB,MAAN,CAAcC,IAAD,IAAUA,IAAI,CAACH,EAAL,KAAYA,EAAnC,CAAD,CAAR;IACD,CAHD,CAGE,OAAOH,KAAP,EAAc;MACdC,OAAO,CAACD,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;IACD;EACF,CAPD,CArBkB,CA8BlB;;;EACA,MAAMO,aAAa,GAAID,IAAD,IAAU;IAC9Bf,WAAW,CAACe,IAAD,CAAX;IACAb,QAAQ,CAACa,IAAI,CAACd,KAAN,CAAR;IACAG,cAAc,CAACW,IAAI,CAACZ,WAAN,CAAd;EACD,CAJD,CA/BkB,CAqClB;;;EACA,MAAMc,cAAc,GAAG,MAAM;IAC3BjB,WAAW,CAAC,IAAD,CAAX;IACAE,QAAQ,CAAC,EAAD,CAAR;IACAE,cAAc,CAAC,EAAD,CAAd;EACD,CAJD,CAtCkB,CA4ClB;;;EACA,MAAMc,gBAAgB,GAAG,MAAOC,CAAP,IAAa;IACpCA,CAAC,CAACC,cAAF;;IACA,IAAI;MACF,MAAMC,WAAW,GAAG,EAAE,GAAGtB,QAAL;QAAeE,KAAf;QAAsBE;MAAtB,CAApB;MACA,MAAMT,KAAK,CAAC4B,GAAN,CAAW,cAAavB,QAAQ,CAACa,EAAG,EAApC,EAAuCS,WAAvC,CAAN;MACAvB,QAAQ,CACND,KAAK,CAAC0B,GAAN,CAAWR,IAAD,IAAWA,IAAI,CAACH,EAAL,KAAYb,QAAQ,CAACa,EAArB,GAA0BS,WAA1B,GAAwCN,IAA7D,CADM,CAAR;MAGAE,cAAc;IACf,CAPD,CAOE,OAAOR,KAAP,EAAc;MACdC,OAAO,CAACD,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;IACD;EACF,CAZD;;EAcA,oBAAO,QAAC,eAAD;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CA5DD;;GAAMb,K;;KAAAA,K;AA8DN,eAAeA,KAAf","ignoreList":[]},"metadata":{},"sourceType":"module"}