{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Latf\\\\innorik\\\\ClientApp\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\n// src/components/Login.js\nimport React, { useState, useContext, useNavigate } from \"react\";\nimport axios from \"axios\";\nimport { GlobalContext } from \"../GlobalContext/GlobalContext\";\nimport Cookies from \"js-cookie\";\nimport { toast, Bounce } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = _ref => {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const {\n    isLoginHandler\n  } = useContext(GlobalContext);\n  const navigate = useNavigate();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/users/login\", {\n        username,\n        password\n      }, {\n        withCredentials: true,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      });\n      console.log(\"Login successful:\", response.data); // Handle successful login, e.g., redirect to dashboard\n\n      if (response.data.login) {\n        Cookies.set(\"token\", response.data.token, {\n          expires: 1\n        }); // Expires in 7 days\n\n        toast.success(\"Login Successfully\", {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: \"light\",\n          transition: Bounce\n        });\n        setInterval(() => {}, 2000);\n      } else {\n        toast.error(\"Invalid details\", {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: \"light\",\n          transition: Bounce\n        });\n      }\n    } catch (error) {\n      console.error(\"Error logging in:\", error); // Handle login error, show error message to user\n\n      toast.error(\"Somethin went wrong, please try again later\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: \"light\",\n        transition: Bounce\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"eFhkxVqPH2t8zmLFO016ZAiyDe8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","axios","GlobalContext","Cookies","toast","Bounce","Login","history","username","setUsername","password","setPassword","isLoginHandler","navigate","handleSubmit","e","preventDefault","response","post","withCredentials","headers","console","log","data","login","set","token","expires","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","transition","setInterval","error","target","value"],"sources":["C:/Users/Latf/innorik/ClientApp/src/components/Login.js"],"sourcesContent":["// src/components/Login.js\r\nimport React, { useState, useContext, useNavigate } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport { GlobalContext } from \"../GlobalContext/GlobalContext\";\r\nimport Cookies from \"js-cookie\";\r\nimport { toast, Bounce } from \"react-toastify\";\r\n\r\nconst Login = ({ history }) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const { isLoginHandler } = useContext(GlobalContext);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/api/users/login\",\r\n        {\r\n          username,\r\n          password,\r\n        },\r\n        {\r\n          withCredentials: true,\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n          },\r\n        }\r\n      );\r\n      console.log(\"Login successful:\", response.data);\r\n      // Handle successful login, e.g., redirect to dashboard\r\n\r\n      if (response.data.login) {\r\n        Cookies.set(\"token\", response.data.token, { expires: 1 }); // Expires in 7 days\r\n\r\n        toast.success(\"Login Successfully\", {\r\n          position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          theme: \"light\",\r\n          transition: Bounce,\r\n        });\r\n\r\n        setInterval(() => {\r\n          \r\n        }, 2000);\r\n      } else {\r\n        toast.error(\"Invalid details\", {\r\n          position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          theme: \"light\",\r\n          transition: Bounce,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error logging in:\", error);\r\n      // Handle login error, show error message to user\r\n      toast.error(\"Somethin went wrong, please try again later\", {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        theme: \"light\",\r\n        transition: Bounce,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Username</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Login\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,WAAtC,QAAyD,OAAzD;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,gCAA9B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,gBAA9B;;;AAEA,MAAMC,KAAK,GAAG,QAAiB;EAAA;;EAAA,IAAhB;IAAEC;EAAF,CAAgB;EAC7B,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;EAEA,MAAM;IAAEc;EAAF,IAAqBb,UAAU,CAACG,aAAD,CAArC;EAEA,MAAMW,QAAQ,GAAGb,WAAW,EAA5B;;EAEA,MAAMc,YAAY,GAAG,MAAOC,CAAP,IAAa;IAChCA,CAAC,CAACC,cAAF;;IACA,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,IAAN,CACrB,uCADqB,EAErB;QACEV,QADF;QAEEE;MAFF,CAFqB,EAMrB;QACES,eAAe,EAAE,IADnB;QAEEC,OAAO,EAAE;UACP,gBAAgB,kBADT;UAEP,+BAA+B;QAFxB;MAFX,CANqB,CAAvB;MAcAC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCL,QAAQ,CAACM,IAA1C,EAfE,CAgBF;;MAEA,IAAIN,QAAQ,CAACM,IAAT,CAAcC,KAAlB,EAAyB;QACvBrB,OAAO,CAACsB,GAAR,CAAY,OAAZ,EAAqBR,QAAQ,CAACM,IAAT,CAAcG,KAAnC,EAA0C;UAAEC,OAAO,EAAE;QAAX,CAA1C,EADuB,CACoC;;QAE3DvB,KAAK,CAACwB,OAAN,CAAc,oBAAd,EAAoC;UAClCC,QAAQ,EAAE,WADwB;UAElCC,SAAS,EAAE,IAFuB;UAGlCC,eAAe,EAAE,KAHiB;UAIlCC,YAAY,EAAE,IAJoB;UAKlCC,YAAY,EAAE,IALoB;UAMlCC,SAAS,EAAE,IANuB;UAOlCC,QAAQ,EAAEC,SAPwB;UAQlCC,KAAK,EAAE,OAR2B;UASlCC,UAAU,EAAEjC;QATsB,CAApC;QAYAkC,WAAW,CAAC,MAAM,CAEjB,CAFU,EAER,IAFQ,CAAX;MAGD,CAlBD,MAkBO;QACLnC,KAAK,CAACoC,KAAN,CAAY,iBAAZ,EAA+B;UAC7BX,QAAQ,EAAE,WADmB;UAE7BC,SAAS,EAAE,IAFkB;UAG7BC,eAAe,EAAE,KAHY;UAI7BC,YAAY,EAAE,IAJe;UAK7BC,YAAY,EAAE,IALe;UAM7BC,SAAS,EAAE,IANkB;UAO7BC,QAAQ,EAAEC,SAPmB;UAQ7BC,KAAK,EAAE,OARsB;UAS7BC,UAAU,EAAEjC;QATiB,CAA/B;MAWD;IACF,CAjDD,CAiDE,OAAOmC,KAAP,EAAc;MACdnB,OAAO,CAACmB,KAAR,CAAc,mBAAd,EAAmCA,KAAnC,EADc,CAEd;;MACApC,KAAK,CAACoC,KAAN,CAAY,6CAAZ,EAA2D;QACzDX,QAAQ,EAAE,WAD+C;QAEzDC,SAAS,EAAE,IAF8C;QAGzDC,eAAe,EAAE,KAHwC;QAIzDC,YAAY,EAAE,IAJ2C;QAKzDC,YAAY,EAAE,IAL2C;QAMzDC,SAAS,EAAE,IAN8C;QAOzDC,QAAQ,EAAEC,SAP+C;QAQzDC,KAAK,EAAE,OARkD;QASzDC,UAAU,EAAEjC;MAT6C,CAA3D;IAWD;EACF,CAlED;;EAoEA,oBACE;IAAK,SAAS,EAAC,WAAf;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAM,QAAQ,EAAES,YAAhB;MAAA,wBACE;QAAK,SAAS,EAAC,YAAf;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UACE,IAAI,EAAC,MADP;UAEE,SAAS,EAAC,cAFZ;UAGE,KAAK,EAAEN,QAHT;UAIE,QAAQ,EAAGO,CAAD,IAAON,WAAW,CAACM,CAAC,CAAC0B,MAAF,CAASC,KAAV;QAJ9B;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAUE;QAAK,SAAS,EAAC,YAAf;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UACE,IAAI,EAAC,UADP;UAEE,SAAS,EAAC,cAFZ;UAGE,KAAK,EAAEhC,QAHT;UAIE,QAAQ,EAAGK,CAAD,IAAOJ,WAAW,CAACI,CAAC,CAAC0B,MAAF,CAASC,KAAV;QAJ9B;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAVF,eAmBE;QAAQ,IAAI,EAAC,QAAb;QAAsB,SAAS,EAAC,iBAAhC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAnBF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA4BD,CAxGD;;GAAMpC,K;UAMaN,W;;;KANbM,K;AA0GN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}