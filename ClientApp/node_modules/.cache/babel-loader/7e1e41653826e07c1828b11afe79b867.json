{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Latf\\\\innorik\\\\ClientApp\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\n// src/components/Login.js\nimport React, { useState, useContext, useNavigate } from \"react\";\nimport axios from \"axios\";\nimport { GlobalContext } from \"../GlobalContext/GlobalContext\";\nimport Cookies from \"js-cookie\";\nimport { toast, Bounce } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = _ref => {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const {\n    isLoginHandler\n  } = useContext(GlobalContext);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/users/login\", {\n        username,\n        password\n      }, {\n        withCredentials: true,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      });\n      console.log(\"Login successful:\", response.data); // Handle successful login\n\n      if (response.data.login) {\n        Cookies.set(\"token\", response.data.token, {\n          expires: 1\n        }); // Expires in 1 days\n\n        toast.success(\"Login Successfully\", {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: \"light\",\n          transition: Bounce\n        });\n        setInterval(() => {\n          window.location.href = \"/dashboard\";\n        }, 2000);\n      } else {\n        toast.error(\"Invalid details\", {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: \"light\",\n          transition: Bounce\n        });\n      }\n    } catch (error) {\n      console.error(\"Error logging in:\", error); // Handle login error, show error message to user\n\n      toast.error(\"Somethin went wrong, please try again later\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: \"light\",\n        transition: Bounce\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container d-flex align-items-center justify-content-center\",\n    style: {\n      minHeight: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-20\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mx-6\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: username,\n              onChange: e => setUsername(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              value: password,\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"T3RH3hdAWSCxmj31bADJvwj4L4o=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","axios","GlobalContext","Cookies","toast","Bounce","Login","history","username","setUsername","password","setPassword","isLoginHandler","handleSubmit","e","preventDefault","response","post","withCredentials","headers","console","log","data","login","set","token","expires","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","transition","setInterval","window","location","href","error","minHeight","target","value"],"sources":["C:/Users/Latf/innorik/ClientApp/src/components/Login.js"],"sourcesContent":["// src/components/Login.js\r\nimport React, { useState, useContext, useNavigate } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport { GlobalContext } from \"../GlobalContext/GlobalContext\";\r\nimport Cookies from \"js-cookie\";\r\nimport { toast, Bounce } from \"react-toastify\";\r\n\r\nconst Login = ({ history }) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const { isLoginHandler } = useContext(GlobalContext);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/api/users/login\",\r\n        {\r\n          username,\r\n          password,\r\n        },\r\n        {\r\n          withCredentials: true,\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n          },\r\n        }\r\n      );\r\n      console.log(\"Login successful:\", response.data);\r\n      // Handle successful login\r\n\r\n      if (response.data.login) {\r\n        Cookies.set(\"token\", response.data.token, { expires: 1 }); // Expires in 1 days\r\n\r\n        toast.success(\"Login Successfully\", {\r\n          position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          theme: \"light\",\r\n          transition: Bounce,\r\n        });\r\n\r\n        setInterval(() => {\r\n          window.location.href = \"/dashboard\";\r\n        }, 2000);\r\n      } else {\r\n        toast.error(\"Invalid details\", {\r\n          position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          theme: \"light\",\r\n          transition: Bounce,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error logging in:\", error);\r\n      // Handle login error, show error message to user\r\n      toast.error(\"Somethin went wrong, please try again later\", {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        theme: \"light\",\r\n        transition: Bounce,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"container d-flex align-items-center justify-content-center\"\r\n      style={{ minHeight: \"100vh\" }}\r\n    >\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-md-20\">\r\n          <h2 className=\"mx-6\">Login</h2>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n              <label>Username</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Password</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </div>\r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              Login\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}